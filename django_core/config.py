import os
from dotenv import load_dotenv, dotenv_values

# load_dotenv()
ENV_CONFIG = dotenv_values(encoding="utf-8")
if os.path.isfile(".config.env"):
    ENV_CONFIG.update(dotenv_values(".config.env", encoding="utf-8"))


class Config:
    # DB config
    WITH_DB_CONFIG = ENV_CONFIG.get("WITH_DB_CONFIG", False)
    DB_NAME = ENV_CONFIG.get("DB_NAME")
    DB_USER = ENV_CONFIG.get("DB_USER")
    DB_PASSWORD = ENV_CONFIG.get("DB_PASSWORD")
    DB_HOST = ENV_CONFIG.get("DB_HOST")
    DB_PORT = ENV_CONFIG.get("DB_PORT")
    MAX_CONNECTIONS = ENV_CONFIG.get("DB_MAX_CONNECTIONS")
    STALE_TIMEOUT = ENV_CONFIG.get("DB_STALE_TIMEOUT")

    # prompts
    GENERATION_PROMPT = ENV_CONFIG.get("GENERATION_PROMPT")
    REPHRASE_QUESTION_PROMPT = ENV_CONFIG.get("REPHRASE_QUESTION_PROMPT")
    RERANKING_PROMPT_SINGLE_TEMPLATE = ENV_CONFIG.get("RERANKING_PROMPT_SINGLE_TEMPLATE")
    RERANK_SINGLE_JSON_EXAMPLE = ENV_CONFIG.get("RERANK_SINGLE_JSON_EXAMPLE")

    # openAI config
    OPEN_AI_KEY = ENV_CONFIG.get("OPENAI_API_KEY")
    GPT_3_5_TURBO = ENV_CONFIG.get("GPT_3_5_TURBO", "gpt-3.5-turbo")
    GPT_3_5_TURBO_UPDATED = ENV_CONFIG.get("GPT_3_5_TURBO_UPDATED", "gpt-3.5-turbo-1106")
    GPT_4 = ENV_CONFIG.get("gpt-4", "gpt-4")
    GPT_4_TURBO_PREVIEW = ENV_CONFIG.get("gpt-4-1106-preview", "gpt-4-1106-preview")
    GPT_4_TURBO_PREVIEW_LATEST = ENV_CONFIG.get("GPT_4_TURBO_PREVIEW_LATEST", "gpt-4-0125-preview")
    TEMPERATURE = ENV_CONFIG.get("TEMPERATURE", 0)
    MAX_TOKENS = ENV_CONFIG.get("MAX_TOKENS", 500)
    CHAT_HISTORY_WINDOW = ENV_CONFIG.get("CHAT_HISTORY_WINDOW", 4)

    # Content Retrieval APIs
    CONTENT_DOMAIN_URL = ENV_CONFIG.get("CONTENT_DOMAIN_URL")
    CONTENT_AUTHENTICATE_ENDPOINT = ENV_CONFIG.get("CONTENT_AUTHENTICATE_ENDPOINT")
    CONTENT_RETRIEVAL_ENDPOINT = ENV_CONFIG.get("CONTENT_RETRIEVAL_ENDPOINT")

    # Language
    LANGUAGE_BCP_CODE_NATIVE = ENV_CONFIG.get("LANGUAGE_BCP_CODE_NATIVE", "en-US")
    LANGUAGE_SHORT_CODE_NATIVE = os.environ.get("LANGUAGE_SHORT_CODE_NATIVE", "en")

    # Translation
    GOOGLE_APPLICATION_CREDENTIALS = ENV_CONFIG.get("GOOGLE_APPLICATION_CREDENTIALS")
